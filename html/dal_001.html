<!DOCTYPE html>
<html lang="sv">
<head>
  <meta charset="UTF-8" />
  <meta name="authoring-tool" content="Adobe_Animate_CC" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
  <title>dal_001</title>

  <!-- Preload (snabbare visning) -->
  <link rel="preload" href="https://thechineseroom.github.io/banner_assets/fonts/CircularXXWeb-Black.woff2?v=1" as="font" type="font/woff2" crossorigin>
  <link rel="preload" href="https://thechineseroom.github.io/banner_assets/fonts/CircularXXWeb-Medium.woff2?v=1" as="font" type="font/woff2" crossorigin>

  <style>
    /* Webfonter – namn måste matcha vad Animate visar i console.log */
    @font-face {
      font-family: 'CircularXX Black';
      src: url('https://thechineseroom.github.io/banner_assets/fonts/CircularXXWeb-Black.woff2?v=1') format('woff2'),
           url('https://thechineseroom.github.io/banner_assets/fonts/CircularXXWeb-Black.woff?v=1') format('woff');
      font-weight: 900; font-style: normal; font-display: swap;
    }
    @font-face {
      font-family: 'CircularXX Medium';
      src: url('https://thechineseroom.github.io/banner_assets/fonts/CircularXXWeb-Medium.woff2?v=1') format('woff2'),
           url('https://thechineseroom.github.io/banner_assets/fonts/CircularXXWeb-Medium.woff?v=1') format('woff');
      font-weight: 500; font-style: normal; font-display: swap;
    }

    html, body { height: 100%; margin: 0; background: #fff; }
    /* Gör container och overlay absolut-positionerade; makeResponsive skalar dem tillsammans */
    #animation_container, #dom_overlay_container, canvas {
      position: absolute; left: 0; top: 0;
    }
    /* Låt containern fylla viewport – makeResponsive skalar canvas till att passa */
    #animation_container {
      width: 100%;
      height: 100%;
      background: #ffffff;
      overflow: hidden;
    }
  </style>

  <!-- CreateJS + din Animate-export -->
  <script src="https://code.createjs.com/1.0.0/createjs.min.js"></script>
  <script src="dal_001.js"></script>

  <!-- Animate bootstrap -->
  <script>
    var canvas, stage, exportRoot, anim_container, dom_overlay_container, fnStartAnimation;

    function init() {
      canvas = document.getElementById("canvas");
      anim_container = document.getElementById("animation_container");
      dom_overlay_container = document.getElementById("dom_overlay_container");
      var comp = AdobeAn.getComposition("E70EBF7283014CCAA194A267093E2191");
      handleComplete({}, comp);
    }

    function handleComplete(evt, comp) {
      var lib = comp.getLibrary();
      exportRoot = new lib.dal_001();
      stage = new lib.Stage(canvas);

      fnStartAnimation = function() {
        stage.addChild(exportRoot);
        createjs.Ticker.framerate = lib.properties.fps;
        createjs.Ticker.addEventListener("tick", stage);
      };

      /* RESPONSIV SKALNING
         responsive = true
         dimension = 'both'
         isScale = true (skala canvas)
         scaleType = 1 => "contain" (hela bannern syns, letterbox vid mismatch)
         Vill du "cover" istället (fyller ytan, kan beskäras): byt 1 till 2.
      */
      AdobeAn.makeResponsive(
        true, 'both', true, 1,
        [canvas, anim_container, dom_overlay_container]
      );

      AdobeAn.compositionLoaded(lib.properties.id);
      fnStartAnimation();
    }
  </script>
</head>

<body onload="init();">
  <!-- Viktigt: behåll originalstorlek på canvas-attributen (design size).
       makeResponsive använder dem som bas för skalning. -->
  <div id="animation_container">
    <canvas id="canvas" width="1920" height="1080" style="display:block; background:#ffffff;"></canvas>
    <div id="dom_overlay_container"></div>
  </div>
</body>
</html>
